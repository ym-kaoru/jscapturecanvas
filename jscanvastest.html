<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Js Canvas Tester</title>
  </head>

  <body>
    <h1 style="text-align:center">Simple Test Module for jsCanvas</h1>
    <blockquote>
This module shows the jsCanvas compiler used in conjunction with the <a href=http://code.google.com/p/canvg/>canvg SVG->Canvas converter</a>.
The general idea here is that at development time we compile the necessary SVG files into a javascript
object which can be realized at runtime. The advantage is that there is no need to load the canvg interpreter
code at runtime, as well as being able to manipulate the compiled object at run time. Here, we show a couple of
manipulations by changing the line color to blue, and changing some of the fill colors, including a gradient.
The ability to change the fill colors also makes it easy to add pattern fills from server-side patterns,
which is sort of a pain in SVG.

    </blockquote>
    <table>
	<tr><td>File <input id="infile" size=50 value="http://mtcc.com/site/imgs/phzavatar.svg"><td><button onclick="jsCanvas.test ()">Render</button>
	<tr><th>Compiled SVG with Color Substitution<th>Object Source
	<tr><td valign=top><canvas id=ycanvas><td id=source>
    </table>

    <hr>
    <textarea style="width:90%; height:200px;" id="input_svg"></textarea>
    <hr>
    <textarea style="width:90%; height:200px;" id="output"></textarea>

    <hr>
    <address><a href="mailto:mike@mtcc.com">Michael Thomas</a></address>
<script type=text/javascript src=jscanvas.js></script>
<script type=text/javascript src=http://mtcc.com/site/rgbcolor.js></script>
<script type=text/javascript src=http://mtcc.com/site/canvg.js></script>
<script type=text/javascript>

jsCanvas.test = function () {
    var svg = document.getElementById('input_svg').value;
    ycanvas = document.getElementById ('ycanvas');
    // if you specify a width and height, it will scale it at compile time.
    // generally you probably want to generate it at normal scale, and scale it
    // at run time, which is what we do here.
    xcanvas = new jsCanvas ('jscanvastest');
    xcanvas.canvas.style.display = 'none';           // we don't want our compiler canvas displayed
    // now render it. for completion, we eval it and execute it just to test.
    // normally, you'd probably do something like POST the generated javascript
    // code to a web site so that it could be used on other pages
    xcanvas.compile(svg, function () {
        document.getElementById ('output').value = xcanvas.toString();
    });
}

</script>
<img id="pattern" src=http://mtcc.com/site/imgs/davidmatblack.png style="display:none">
<!-- Created: Tue Apr  9 08:38:52 PDT 2013 -->
<!-- hhmts start -->
Last modified: Tue Apr  9 12:43:52 PDT 2013
<!-- hhmts end -->
  </body>
</html>
